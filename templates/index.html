{% include 'head.html' %}

<body>

    <div id="wrapper">

      {% include 'sidebar.html' %}

        <div id="page-wrapper">
            <div class="row">
              <div style="margin-top: 10px;margin-bottom:0px" class="alert alert-danger alert-dismissable">
                                  <button type="button" class="close" data-dismiss="alert" aria-hidden="true">Ã—</button>
                                  The <strong>Bloomingdale Studio</strong> lost 15% of recurring Yogis <a href="#" class="alert-link">Take Action!</a>.
              </div>

                <div class="col-lg-12">
                    <h1 class="page-header">Yogilytics for May 2017</h1>
                </div>
                <!-- /.col-lg-12 -->
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-primary">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-users fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">26,120</div>
                                    <div>Total Paid Visits!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-green">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-book fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">Andrea</div>
                                    <div>Top Teacher!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-yellow">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-building-o fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">H St</div>
                                    <div>Top Studio!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col-lg-3 col-md-6">
                    <div class="panel panel-red">
                        <div class="panel-heading">
                            <div class="row">
                                <div class="col-xs-3">
                                    <i class="fa fa-usd fa-5x"></i>
                                </div>
                                <div class="col-xs-9 text-right">
                                    <div class="huge">$130,000</div>
                                    <div>Revenue!</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- /.row -->
            <div class="row">
                <div class="col-lg-8">
                    <!-- /.panel -->
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <i class="fa fa-bar-chart-o fa-fw"></i> Top 5 Instructors at 14th St Studio in May 2017
                            <div class="pull-right" style="margin-top: -6px;">
                                <div class="btn-group">
                                    <button type="button" class="btn btn-outline btn-default dropdown-toggle" data-toggle="dropdown">
                                        Studio
                                        <span class="caret"></span>
                                    </button>
                                    <ul class="dropdown-menu pull-right" role="menu">
                                        <li><a href="#">14th Street</a>
                                        </li>
                                        <li><a href="#">Bloomingdale</a>
                                        </li>
                                        <li><a href="#">Coheights</a>
                                        </li>
                                        <li><a href="#">Dupont</a>
                                        </li>
                                        <li><a href="#">Eye St</a>
                                        </li>
                                        <li><a href="#">Glober</a>
                                        </li>
                                        <li><a href="#">H St</a>
                                        </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <!-- /.panel-heading -->
                        <div class="panel-body">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div id="morris-bar-chart"></div>
                                </div>
                                <!-- /.col-lg-8 (nested) -->
                            </div>
                            <!-- /.row -->
                        </div>
                        <!-- /.panel-body -->
                    </div>

                    <!-- /.panel -->

                    <!-- /.panel -->
                </div>
                <div class="col-md-4">
                  <div class="panel panel-default">
                    <div class="panel-heading">
                      <i class="fa fa-clock-o fa-fw"></i> Total Sessions
                    </div>
                    <div class="panel-body">
                      <div id="morris-donut-chart"></div>
                    </div>
                  </div>
                </div>
            </div>

            <div class="row">
              <div class="col-md-12">
                <div class="panel panel-default">
                  <div class="panel-heading">
                    <i class="fa fa-clock-o fa-fw"></i> Instructor Performance by Studio
                  </div>
                  <div class="panel-body">

                    <!-- Nav tabs -->
                    <ul class="nav nav-tabs">
                        <li class="active"><a href="#home" data-toggle="tab">14th St</a>
                        </li>
                        <li><a href="#dupont" data-toggle="tab">Dupont</a>
                        </li>
                        <li><a href="#messages" data-toggle="tab">Glober</a>
                        </li>
                        <li><a href="#settings" data-toggle="tab">H St</a>
                        </li>
                        <li><a href="#settings" data-toggle="tab">Eye St</a>
                        </li>
                        <li><a href="#settings" data-toggle="tab">Coheights</a>
                        </li>
                        <li><a href="#settings" data-toggle="tab">Bloomingdale</a>
                        </li>
                    </ul>

                    <!-- Tab panes -->
                    <div class="tab-content">
                        <div class="tab-pane fade in active" id="home">
                            <h4 style="padding-bottom:1em"></h4>
                            <table width="100%" class="table table-striped table-bordered table-hover" id="dataTables-example">
                                <thead>
                                    <tr>
                                        <th>Teacher</th>
                                        <th>Paid Visits</th>
                                        <th>Total Sessions</th>
                                        <th>Unique Clients</th>
                                        <th>Studio</th>
                                    </tr>
                                </thead>
                                <tbody>
                                  {% for q in query %}
                                    <tr class="odd gradeX">
                                        <td>{{q.Teacher}}</td>
                                        <td>{{q.PaidVisits}}</td>
                                        <td>{{q.TotalSessions}}</td>
                                        <td class="center">{{q.UniqueClients}}</td>
                                        <td class="center">{{q.Studio}}</td>
                                    </tr>
                                  {% endfor %}
                                </tbody>
                            </table>
                          </div>
                        <div class="tab-pane fade" id="dupont">
                          <h4>None yet!</h4>
                          <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                        </div>
                    </div>
                      <!-- /.table-responsive -->
                  </div>
                </div>
              </div>
            </div>
        </div>
        <!-- /#page-wrapper -->

    </div>
    <!-- /#wrapper -->

    {% include 'foot.html' %}

    <link href="../static/morrisjs/morris.css" rel="stylesheet">
    <link href="../static/datatables-plugins/dataTables.bootstrap.css" rel="stylesheet">

    <!-- DataTables Responsive CSS -->
    <link href="../static/datatables-responsive/dataTables.responsive.css" rel="stylesheet">

    <!-- Morris Charts JavaScript -->
    <script src="../static/raphael/raphael.min.js"></script>
    <script src="../static/morrisjs/morris.min.js"></script>

    <script>
    $(document).ready(function() {
        $('#dataTables-example').DataTable({
            responsive: true
        });
    });

    $(function() {

        Morris.Bar({
            element: 'morris-bar-chart',
            data: [
              {y:'AndreaD.',a:322,b:341},
              {y:'Ellie',a:185,b:193},
              {y:'Rexx',a:128,b:133},
              {y:'Heather',a:110,b:111},
              {y:'Cayla',a:107,b:107}
            ],
            xkey: 'y',
            ykeys: ['a', 'b'],
            labels: ['Total Paid Visits', 'Total Visits'],
            hideHover: 'auto',
            resize: true
        });

        Morris.Donut({
            element: 'morris-donut-chart',
            data: [{
                label: "Bloomingdale",
                value: 42
            },
            {
                label: "Eye",
                value: 223
            },
            {
                label: "Coheights",
                value: 123
            },
            {
                label: "Dupont",
                value: 270
            },
            {
                label: "Glober",
                value: 125
            },  {
                label: "H",
                value: 52
            }],
            resize: true
        });

    });

    </script>


    <style>
    table {
        display: flex;
        flex-flow: column;
        height: 100%;
        width: 100%;
    }
    table thead {
        /* head takes the height it requires,
        and it's not scaled when table is resized */
        flex: 0 0 auto;
        /*width: calc(100% - 0.9em);*/
        width:100%;
    }
    table tbody {
        /* body takes all the remaining available space */
        flex: 1 1 auto;
        display: block;
        overflow-y: scroll;
    }
    table tbody tr {
        width: 100%;
    }
    table thead, table tbody tr {
        display: table;
        table-layout: fixed;
    }
    </style>

</body>

</html>
